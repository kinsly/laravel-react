import{r as x,j as e,a as j,y as h}from"./app-vNBdrkJc.js";import{S as b}from"./SinglePageHeader-D5U_hmEV.js";import{G as N}from"./GuestLayout-BtzcZuSC.js";function y({id:s,src:n,title:c,unitPrice:r,defaultQuantity:o,changeQuantity:t,removeCartItem:i}){const[l,a]=x.useState(1);x.useEffect(()=>{a(o)},[o]);const d=(m,u)=>{m=="minus"?l>1&&a(l-1):a(l+1),t(m,u)},p=()=>{i(parseInt(s))};return e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("img",{src:n,className:"img-fluid me-5 rounded-circle",style:{width:80,height:80},alt:""})})}),e.jsx("td",{children:e.jsx("p",{className:"mb-0 mt-4",children:c})}),e.jsx("td",{children:e.jsxs("p",{className:"mb-0 mt-4",children:["$",r]})}),e.jsx("td",{children:e.jsxs("div",{className:"input-group mt-4",style:{width:100},children:[e.jsx("div",{className:"input-group-btn",children:e.jsx("button",{onClick:()=>d("minus",parseInt(s)),className:"btn btn-sm btn-minus rounded-circle bg-light border",children:e.jsx("i",{className:"fa fa-minus"})})}),e.jsx("span",{className:"form-control form-control-sm text-center border-0",children:l}),e.jsx("div",{className:"input-group-btn",children:e.jsx("button",{onClick:()=>d("plus",parseInt(s)),className:"btn btn-sm btn-plus rounded-circle bg-light border",children:e.jsx("i",{className:"fa fa-plus"})})})]})}),e.jsx("td",{children:e.jsxs("p",{className:"mb-0 mt-4",children:["$",(r*l).toFixed(2)]})}),e.jsx("td",{children:e.jsx("button",{onClick:p,className:"btn btn-md rounded-circle bg-light border mt-4",children:e.jsx("i",{className:"fa fa-times text-danger"})})})]})}function g({cartItems:s=null,changeQuantity:n,removeCartItem:c}){return e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Products"}),e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Price"}),e.jsx("th",{scope:"col",children:"Quantity"}),e.jsx("th",{scope:"col",children:"Total"}),e.jsx("th",{scope:"col",children:"Handle"})]})}),e.jsx("tbody",{children:s==null?e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:"empty"})}):e.jsx(e.Fragment,{children:s==null?void 0:s.map((r,o)=>{var t;return e.jsx(y,{id:r.id,src:(t=r.item.image)==null?void 0:t.url,title:r.item.title,unitPrice:r.item.unit_price,defaultQuantity:r.quantity,changeQuantity:(i,l)=>n(i,l),removeCartItem:i=>c(i)},o)})})})]})}function v({cartItems:s=[]}){var n=0;return s.map((c,r)=>{var o=c.item.unit_price*c.quantity;n=n+o}),e.jsxs("div",{className:"bg-light rounded",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("h1",{className:"display-6 mb-4",children:["Cart ",e.jsx("span",{className:"fw-normal",children:"Total"})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-4",children:[e.jsx("h5",{className:"mb-0 me-4",children:"Subtotal:"}),e.jsx("p",{className:"mb-0",children:n.toFixed(2)})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("h5",{className:"mb-0 me-4",children:"Shipping"}),e.jsx("div",{className:"",children:e.jsx("p",{className:"mb-0",children:"Flat rate: $3.00"})})]}),e.jsx("p",{className:"mb-0 text-end",children:"Shipping to your Country."})]}),e.jsxs("div",{className:"py-4 mb-4 border-top border-bottom d-flex justify-content-between",children:[e.jsx("h5",{className:"mb-0 ps-4 me-4",children:"Total"}),e.jsxs("p",{className:"mb-0 pe-4",children:["$",(n+3).toFixed(2)]})]}),e.jsx("button",{className:"btn border-secondary rounded-pill px-4 py-3 text-primary text-uppercase mb-4 ms-4",type:"button",children:"Proceed Checkout"})]})}function w({cart:s,auth:n,cart_item_quantity:c}){const r=(t,i)=>{var l=route("cart.quantity");h.visit(l,{method:"post",data:{id:i,order:t},preserveState:!0,replace:!1,preserveScroll:!0,onStart:a=>{console.log(a)},onProgress:a=>{console.log(a)},onSuccess:a=>{},onError:a=>{},onFinish:a=>{}})},o=t=>{var i=route("cart.removeItem",[t]);h.visit(i,{method:"delete",data:{id:t},preserveState:!0,replace:!1,preserveScroll:!0,onStart:l=>{console.log(l)},onProgress:l=>{console.log(l)}})};return e.jsxs(N,{user:n==null?void 0:n.user,cart_item_quantity:c,children:[e.jsx(j,{title:"Cart"}),e.jsx(b,{title:"Cart"}),e.jsx("div",{className:"container-fluid py-5",children:e.jsxs("div",{className:"container py-5",children:[e.jsx("div",{className:"table-responsive",children:e.jsx(g,{cartItems:s==null?void 0:s.items,changeQuantity:(t,i)=>r(t,i),removeCartItem:t=>o(t)})}),e.jsxs("div",{className:"mt-5",children:[e.jsx("input",{type:"text",className:"border-0 border-bottom rounded me-5 py-3 mb-4",placeholder:"Coupon Code"}),e.jsx("button",{className:"btn border-secondary rounded-pill px-4 py-3 text-primary",type:"button",children:"Apply Coupon"})]}),e.jsxs("div",{className:"row g-4 justify-content-end",children:[e.jsx("div",{className:"col-8"}),e.jsx("div",{className:"col-sm-8 col-md-7 col-lg-6 col-xl-4",children:e.jsx(v,{cartItems:s==null?void 0:s.items})})]})]})})]})}export{w as default};
